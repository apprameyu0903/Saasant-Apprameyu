package com.saasant.firstSpringProject.controller;

public class ViewController {
	
	package com.saasant.firstSpringProject.controller;

	import org.springframework.stereotype.Controller;
	import org.springframework.web.bind.annotation.GetMapping;
	import org.springframework.web.bind.annotation.RequestParam;
	import org.springframework.ui.Model;

	@Controller
	public class ViewController {

	    @GetMapping({"/", "/customers"})
	    public String showCustomerDetailsPage(Model model,
	                                          @RequestParam(value = "successMessage", required = false) String successMessage,
	                                          @RequestParam(value = "errorMessage", required = false) String errorMessage) {
	        if (successMessage != null && !successMessage.isEmpty()) {
	            model.addAttribute("successMessage", successMessage);
	        }
	        if (errorMessage != null && !errorMessage.isEmpty()) {
	            model.addAttribute("errorMessage", errorMessage);
	        }

	        return "customer_details"; // Returns customer_details.html
	    }

	    /**
	     * Handles requests to show the add_customer page.
	     * This is a simplified version, assuming add_customer.html is a standalone form.
	     * If it needs to interact with the CustomerController for adding,
	     * the form submission would go to an endpoint in CustomerController.
	     *
	     * @return The name of the Thymeleaf template to render (add_customer).
	     */
	    @GetMapping("/customers/add")
	    public String showAddCustomerPage() {
	        return "add_customer"; // Returns add_customer.html
	    }
	}

}
